// Country name to flag image mapping using ISO country codes
export const countryToFlagMap: Record<string, string> = {
  // Common variations of country names mapped to ISO codes
  'united states': '/flags/us.png',
  'usa': '/flags/us.png',
  'us': '/flags/us.png',
  'america': '/flags/us.png',
  
  'japan': '/flags/jp.png',
  'japanese': '/flags/jp.png',
  
  'canada': '/flags/ca.png',
  'canadian': '/flags/ca.png',
  
  'mexico': '/flags/mx.png',
  'mexican': '/flags/mx.png',
  
  'brazil': '/flags/br.png',
  'brazilian': '/flags/br.png',
  
  'united kingdom': '/flags/gb.png',
  'uk': '/flags/gb.png',
  'england': '/flags/gb.png',
  'britain': '/flags/gb.png',
  'great britain': '/flags/gb.png',
  
  'france': '/flags/fr.png',
  'french': '/flags/fr.png',
  
  'germany': '/flags/de.png',
  'german': '/flags/de.png',
  
  'south korea': '/flags/kr.png',
  'korea': '/flags/kr.png',
  'korean': '/flags/kr.png',
  
  'china': '/flags/cn.png',
  'chinese': '/flags/cn.png',
  
  'australia': '/flags/au.png',
  'australian': '/flags/au.png',
  
  'spain': '/flags/es.png',
  'spanish': '/flags/es.png',
  
  'italy': '/flags/it.png',
  'italian': '/flags/it.png',
  
  'netherlands': '/flags/nl.png',
  'dutch': '/flags/nl.png',
  
  'sweden': '/flags/se.png',
  'swedish': '/flags/se.png',
  
  'norway': '/flags/no.png',
  'norwegian': '/flags/no.png',
  
  'denmark': '/flags/dk.png',
  'danish': '/flags/dk.png',
  
  'finland': '/flags/fi.png',
  'finnish': '/flags/fi.png',
  
  'poland': '/flags/pl.png',
  'polish': '/flags/pl.png',
  
  'russia': '/flags/ru.png',
  'russian': '/flags/ru.png',
  
  'ukraine': '/flags/ua.png',
  'ukrainian': '/flags/ua.png',
  
  'turkey': '/flags/tr.png',
  'turkish': '/flags/tr.png',
  
  'albania': '/flags/al.png',
  'albanian': '/flags/al.png',
  
  'singapore': '/flags/sg.png',
  'singaporean': '/flags/sg.png',
  
  'hong kong': '/flags/hk.png',
  
  'taiwan': '/flags/tw.png',
  'taiwanese': '/flags/tw.png',
  
  'thailand': '/flags/th.png',
  'thai': '/flags/th.png',
  
  'malaysia': '/flags/my.png',
  'malaysian': '/flags/my.png',
  
  'indonesia': '/flags/id.png',
  'indonesian': '/flags/id.png',
  
  'philippines': '/flags/ph.png',
  'filipino': '/flags/ph.png',
  
  'vietnam': '/flags/vn.png',
  'vietnamese': '/flags/vn.png',
  
  'india': '/flags/in.png',
  'indian': '/flags/in.png',
  
  'pakistan': '/flags/pk.png',
  'pakistani': '/flags/pk.png',
  
  'bangladesh': '/flags/bd.png',
  'bangladeshi': '/flags/bd.png',
  
  'sri lanka': '/flags/lk.png',
  'sri lankan': '/flags/lk.png',
  
  'iran': '/flags/ir.png',
  'iranian': '/flags/ir.png',
  
  'iraq': '/flags/iq.png',
  'iraqi': '/flags/iq.png',
  
  'saudi arabia': '/flags/sa.png',
  'saudi': '/flags/sa.png',
  
  'qatar': '/flags/qa.png',
  'qatari': '/flags/qa.png',
  
  'kuwait': '/flags/kw.png',
  'kuwaiti': '/flags/kw.png',
  
  'bahrain': '/flags/bh.png',
  'bahraini': '/flags/bh.png',
  
  'united arab emirates': '/flags/ae.png',
  'uae': '/flags/ae.png',
  
  'oman': '/flags/om.png',
  'omani': '/flags/om.png',
  
  'yemen': '/flags/ye.png',
  'yemeni': '/flags/ye.png',
  
  'syria': '/flags/sy.png',
  'syrian': '/flags/sy.png',
  
  'lebanon': '/flags/lb.png',
  'lebanese': '/flags/lb.png',
  
  'jordan': '/flags/jo.png',
  'jordanian': '/flags/jo.png',
  
  'israel': '/flags/il.png',
  'israeli': '/flags/il.png',
  
  'egypt': '/flags/eg.png',
  'egyptian': '/flags/eg.png',
  
  'morocco': '/flags/ma.png',
  'moroccan': '/flags/ma.png',
  
  'tunisia': '/flags/tn.png',
  'tunisian': '/flags/tn.png',
  
  'algeria': '/flags/dz.png',
  'algerian': '/flags/dz.png',
  
  'nigeria': '/flags/ng.png',
  'nigerian': '/flags/ng.png',
  
  'south africa': '/flags/za.png',
  'south african': '/flags/za.png',
  
  'argentina': '/flags/ar.png',
  'argentine': '/flags/ar.png',
  
  'chile': '/flags/cl.png',
  'chilean': '/flags/cl.png',
  
  'peru': '/flags/pe.png',
  'peruvian': '/flags/pe.png',
  
  'colombia': '/flags/co.png',
  'colombian': '/flags/co.png',
  
  'ecuador': '/flags/ec.png',
  'ecuadorian': '/flags/ec.png',
  
  'venezuela': '/flags/ve.png',
  'venezuelan': '/flags/ve.png',
  
  'uruguay': '/flags/uy.png',
  'uruguayan': '/flags/uy.png',
  
  'paraguay': '/flags/py.png',
  'paraguayan': '/flags/py.png',
  
  'panama': '/flags/pa.png',
  'panamanian': '/flags/pa.png',
  
  'costa rica': '/flags/cr.png',
  'costa rican': '/flags/cr.png',
  
  'el salvador': '/flags/sv.png',
  'salvadoran': '/flags/sv.png',
  
  'guatemala': '/flags/gt.png',
  'guatemalan': '/flags/gt.png',
  
  'honduras': '/flags/hn.png',
  'honduran': '/flags/hn.png',
  
  'cuba': '/flags/cu.png',
  'cuban': '/flags/cu.png',
  
  'dominican republic': '/flags/do.png',
  'dominican': '/flags/do.png',
  
  'jamaica': '/flags/jm.png',
  'jamaican': '/flags/jm.png',
  
  'belgium': '/flags/be.png',
  'belgian': '/flags/be.png',
  
  'switzerland': '/flags/ch.png',
  'swiss': '/flags/ch.png',
  
  'austria': '/flags/at.png',
  'austrian': '/flags/at.png',
  
  'hungary': '/flags/hu.png',
  'hungarian': '/flags/hu.png',
  
  'czech republic': '/flags/cz.png',
  'czech': '/flags/cz.png',
  
  'slovakia': '/flags/sk.png',
  'slovak': '/flags/sk.png',
  
  'slovenia': '/flags/si.png',
  'slovenian': '/flags/si.png',
  
  'croatia': '/flags/hr.png',
  'croatian': '/flags/hr.png',
  
  'serbia': '/flags/rs.png',
  'serbian': '/flags/rs.png',
  
  'bulgaria': '/flags/bg.png',
  'bulgarian': '/flags/bg.png',
  
  'romania': '/flags/ro.png',
  'romanian': '/flags/ro.png',
  
  'greece': '/flags/gr.png',
  'greek': '/flags/gr.png',
  
  'portugal': '/flags/pt.png',
  'portuguese': '/flags/pt.png',
  
  'ireland': '/flags/ie.png',
  'irish': '/flags/ie.png',
  
  'iceland': '/flags/is.png',
  'icelandic': '/flags/is.png',
  
  'luxembourg': '/flags/lu.png',
  'luxembourgish': '/flags/lu.png',
  
  'monaco': '/flags/mc.png',
  'monacan': '/flags/mc.png',
  
  'latvia': '/flags/lv.png',
  'latvian': '/flags/lv.png',
  
  'lithuania': '/flags/lt.png',
  'lithuanian': '/flags/lt.png',
  
  'estonia': '/flags/ee.png',
  'estonian': '/flags/ee.png',
  
  'mongolia': '/flags/mn.png',
  'mongolian': '/flags/mn.png',
  
  'kazakhstan': '/flags/kz.png',
  'kazakh': '/flags/kz.png',
  
  'north korea': '/flags/kp.png',
  'north korean': '/flags/kp.png',
  
  'maldives': '/flags/mv.png',
  'maldivian': '/flags/mv.png',
  
  'malta': '/flags/mt.png',
  'maltese': '/flags/mt.png',
  
     'new zealand': '/flags/nz.png',
   
   // Additional countries from your collection
   'afghanistan': '/flags/af.png',
   'angola': '/flags/ao.png',
   'armenia': '/flags/am.png',
   'azerbaijan': '/flags/az.png',
   'bosnia and herzegovina': '/flags/ba.png',
   'botswana': '/flags/bw.png',
   'belarus': '/flags/by.png',
   'belize': '/flags/bz.png',
   'congo': '/flags/cd.png',
   'central african republic': '/flags/cf.png',
   'congo republic': '/flags/cg.png',
   'cyprus': '/flags/cy.png',
   'djibouti': '/flags/dj.png',
   'dominica': '/flags/dm.png',
   'eritrea': '/flags/er.png',
   'ethiopia': '/flags/et.png',
   'fiji': '/flags/fj.png',
   'gabon': '/flags/ga.png',
   'grenada': '/flags/gd.png',
   'georgia': '/flags/ge.png',
   'ghana': '/flags/gh.png',
   'gambia': '/flags/gm.png',
   'guinea': '/flags/gn.png',
   'equatorial guinea': '/flags/gq.png',
   'haiti': '/flags/ht.png',
   'kenya': '/flags/ke.png',
   'kyrgyzstan': '/flags/kg.png',
   'cambodia': '/flags/kh.png',
   'comoros': '/flags/km.png',
   'laos': '/flags/la.png',
   'liberia': '/flags/lr.png',
   'libya': '/flags/ly.png',
   'liechtenstein': '/flags/li.png',
   'lesotho': '/flags/ls.png',
   'moldova': '/flags/md.png',
   'montenegro': '/flags/me.png',
   'madagascar': '/flags/mg.png',
   'marshall islands': '/flags/mh.png',
   'macedonia': '/flags/mk.png',
   'mali': '/flags/ml.png',
   'myanmar': '/flags/mm.png',
   'mauritania': '/flags/mr.png',
   'mauritius': '/flags/mu.png',
   'malawi': '/flags/mw.png',
   'mozambique': '/flags/mz.png',
   'namibia': '/flags/na.png',
   'niger': '/flags/ne.png',
   'nepal': '/flags/np.png',
   'nauru': '/flags/nr.png',
   'papua new guinea': '/flags/pg.png',
   'palestine': '/flags/ps.png',
   'palau': '/flags/pw.png',
   'rwanda': '/flags/rw.png',
   'solomon islands': '/flags/sb.png',
   'seychelles': '/flags/sc.png',
   'sudan': '/flags/sd.png',
   'sierra leone': '/flags/sl.png',
   'san marino': '/flags/sm.png',
   'senegal': '/flags/sn.png',
   'south sudan': '/flags/ss.png',
   'sao tome and principe': '/flags/st.png',
   'suriname': '/flags/sr.png',
   'tajikistan': '/flags/tj.png',
   'timor-leste': '/flags/tl.png',
   'turkmenistan': '/flags/tm.png',
   'tonga': '/flags/to.png',
   'trinidad and tobago': '/flags/tt.png',
   'tuvalu': '/flags/tv.png',
   'tanzania': '/flags/tz.png',
   'uganda': '/flags/ug.png',
   'uzbekistan': '/flags/uz.png',
   'vatican city': '/flags/va.png',
   'vanuatu': '/flags/vu.png',
   'zambia': '/flags/zm.png',
   'zimbabwe': '/flags/zw.png',
};

export function getFlagFromCountry(countryName: string): string | null {
  if (!countryName) return null;
  
  const normalizedCountry = countryName.toLowerCase().trim();
  console.log(`Looking up flag for country: "${countryName}" -> normalized: "${normalizedCountry}"`);
  const flag = countryToFlagMap[normalizedCountry] || null;
  console.log(`Found flag:`, flag);
  return flag;
}

export function getFlagFromLocation(location: { country?: string; state?: string; city?: string }): string | null {
  if (!location) return null;
  
  console.log(`Processing location data:`, location);
  
  // Try country first
  if (location.country) {
    console.log(`Trying country: "${location.country}"`);
    const flag = getFlagFromCountry(location.country);
    if (flag) {
      console.log(`Successfully found flag from country:`, flag);
      return flag;
    }
  }
  
  // Try state (for US states, etc.)
  if (location.state) {
    console.log(`Trying state: "${location.state}"`);
    const flag = getFlagFromCountry(location.state);
    if (flag) {
      console.log(`Successfully found flag from state:`, flag);
      return flag;
    }
  }
  
  console.log(`No flag found for location:`, location);
  return null;
} 